## Family-Tree XML Parser

:fire: Spring Boot application which will accept XML documents in a family tree format, parse them and store them in the database. :fire:

The XML documents are in the following format:
```xml
<?xml version="1.0" encoding="UTF-8"?>
<entries>
    <entry>Adam</entry>
    <entry parentName="Adam">Durim</entry>
    <entry parentName="Durim">Nayla</entry>
    <entry parentName="Adam">Jason</entry>
    <entry parentName="Jason">Leta</entry>
    <entry parentName="Jason">Benjamin</entry>
    <entry parentName="Benjamin">Isaac</entry>
    <entry parentName="Isaac">Robert</entry>
</entries>
```
Upon parsing the document, the application forms a tree data structure and writes that tree in a database table called ENTRY.

:warning: An entry can have a single parent, but multiple children. If an entry does not have a parent, then it is considered to be the root of the tree.

The structure of the ENTRY table is shown below:

|Column Name|Column Type |Column Description         |
|:----------|:-----------|:--------------------------|
|ID         |Integer     |Primary key (autogenerated)|
|NAME       |String      |Name of entry              |
|PARENT_ID  |Integer     |Reference to parent entry  |

XML documents can be sent to the application in two ways:

:one: Via HTTP POST requests: `http://localhost:8080/documents` with _Content-Type: application/xml_

:two: By placing the files to a predefined directory (the application checks this directory in a
regular interval, e.g. every 30 seconds).

## Installation
:one: `git clone https://github.com/durimkryeziu/family-tree-xml-parser.git`

:two: In the **params.properties** file:
- set **params.input-directory** to the directory you want to scan for XML files of the previously mentioned format 
- set **params.processing-interval** to the interval you what to scan for.

:three: Run `mvn clean install` or `mvn -Dmaven.test.skip=true clean install` to skip tests

:four: Run `java -jar target/family-tree-xml-parser-1.0.0-SNAPSHOT.jar` and you are ready to go!
